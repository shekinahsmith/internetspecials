function modalBodyLock(e){var t=$("html"),s=$("."+$(e.target).data("modal"));void 0!=s.data("body-locked")&&1==s.data("body-locked")&&s.is(":visible")&&t.addClass("is-locked")}function hailoEventTracking(e){var t=$(this),s=t.data("hailo-event"),o=t.data("hailo-label"),n=t.data("hailo-value"),i={};i[o]=n;var a=t.data("hailo-event-type");if("submit"===a){e.preventDefault();var r=$(this).parent("form");hQ.store(s,i,function(){r.submit()})}else"link"===a?(e.preventDefault(),hQ.store(s,i,function(){window.location=t.attr("href")})):hQ.store(s,i)}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function($){function e(e){return a.raw?e:encodeURIComponent(e)}function t(e){return a.raw?e:decodeURIComponent(e)}function s(t){return e(a.json?JSON.stringify(t):String(t))}function o(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(i," ")),a.json?JSON.parse(e):e}catch(t){}}function n(e,t){var s=a.raw?e:o(e);return $.isFunction(t)?t(s):s}var i=/\+/g,a=$.cookie=function(o,i,r){if(arguments.length>1&&!$.isFunction(i)){if(r=$.extend({},a.defaults,r),"number"==typeof r.expires){var c=r.expires,l=r.expires=new Date;l.setMilliseconds(l.getMilliseconds()+864e5*c)}return document.cookie=[e(o),"=",s(i),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}for(var d=o?void 0:{},p=document.cookie?document.cookie.split("; "):[],_=0,u=p.length;u>_;_++){var m=p[_].split("="),h=t(m.shift()),v=m.join("=");if(o===h){d=n(v,i);break}o||void 0===(v=n(v))||(d[h]=v)}return d};a.defaults={},$.removeCookie=function(e,t){return $.cookie(e,"",$.extend({},t,{expires:-1})),!$.cookie(e)}}),$(function(){$(".main-nav ul, .footer-nav ul").setActiveMenu();var e,t,s;if($(".hero-nav-wrap .manual-nav a").each(function(){$(this).hasClass("current-slide")&&(e=$(this).children("span").attr("rel"),$("."+e).show())}),$(".hero-nav-wrap .manual-nav a").click(function(e){$(".hero-nav-wrap .manual-nav a").removeClass("active"),$(this).addClass("active"),$(".hero-nav-wrap .manual-nav a").each(function(){$(this).hasClass("current-slide")&&(t=$(this).children("span").attr("rel"),$(this).removeClass("current-slide"))}),$(this).addClass("current-slide"),s=$(this).children("span").attr("rel"),$("."+t+" .hero-img").removeClass("animated bounceInRight delay"),$("."+t+" .hero-img").addClass("animated bounceOutLeft delay"),$("."+t+" .hero-info").removeClass("animated bounceInRight"),$("."+t+" .hero-info").addClass("animated bounceOutLeft"),setTimeout(function(){$("."+t).hide(),$("."+s).show(),$("."+s+" .hero-img").removeClass("animated bounceOutLeft delay"),$("."+s+" .hero-img").addClass("animated bounceInRight delay"),$("."+s+" .hero-info").removeClass("animated bounceOutLeft"),$("."+s+" .hero-info").addClass("animated bounceInRight")},500),e.preventDefault()}),$(".tooltip").tipTip({maxWidth:"700px",edgeOffset:10,delay:0}),$(".banner-agents").length>0){var o=$(".banner-agents").outerHeight();$("body").css({"padding-bottom":o+"px"})}}),$(document).on("ready",function(){"function"==typeof hailoEventTracking&&hQ.on("initialized",function(){$(".js-hailo").on("click",hailoEventTracking)}),$(".js-modal-open").click(function(e){e.preventDefault(),$("."+$(this).data("modal")).fadeIn(),modalBodyLock(e)}),$(".js-modal-close").click(function(e){e.preventDefault(),$("."+$(this).data("modal")).fadeOut()})}),$(".js-hero-content-click[data-url]").on("click.heroContentClick",function(e){var t=$(e.target),s=$(this).data("url");!t.is("a")&&0===t.closest("form").length&&s&&(e.preventDefault(),$(this).data("hailo-event")&&window.hQ?hQ.store($(this).data("hailo-event"),{},function(){window.location=s}):window.location=s)}),$(document).ready(function(){var e=function(){var t={unit_type:$(".unit-type"),unit:$(".unit")};return{init:function(){e.unit_type_selection()},unit_type_selection:function(){t.unit_type.on("change",function(){"APT"==t.unit_type.val()?(t.unit.addClass("is-visible"),setTimeout(function(){t.unit.css({opacity:1})},100)):(t.unit.css({opacity:0}),setTimeout(function(){t.unit.removeClass("is-visible")},100))})}}}(),t=function(){var e={modal_launch_click:$(".js-modal-pop-click"),modal_close_click:$(".js-modal-close")};return{init:function(){t.modal_open_close_click()},modal_open_close_click:function(){e.modal_launch_click.on("click",function(e){e.preventDefault(),$(".js-modal-click").addClass("is-open").fadeIn(600),hQ.store("show - limited vrc modal",{})}),e.modal_close_click.on("click",function(){$(".js-modal-click").fadeOut(300),setTimeout(function(){$(".js-modal-click").removeClass("is-open")},600)})}}}();e.init(),t.init()}),$(document).ready(function(){var e=function(){var t={modal_launch:$(".js-modal-pop"),modal_close:$(".js-modal-close")};return{init:function(){e.modal_open_close()},modal_open_close:function(){setTimeout(function(){"1"!==$.cookie("address-check")&&($.cookie("address-check",1),$(".js-modal").addClass("is-open").fadeIn(600),$("body").addClass("is-locked"),$("html").addClass("is-locked"))},1e3),t.modal_close.on("click",function(){$(".js-modal").fadeOut(300),setTimeout(function(){$(".js-modal").removeClass("is-open"),$("body").removeClass("is-locked"),$("html").removeClass("is-locked")},300)})}}}(),t=function(){var e={step_one:$(".address-check__step.step-1"),step_two:$(".address-check__step.step-2"),step_three:$(".address-check__step.step-3"),step_one_bar_mask:$(".js-step-bar-1 .bar-mask"),step_two_bar_mask:$(".js-step-bar-2 .bar-mask"),step_three_bar_mask:$(".js-step-bar-3 .bar-mask"),step_one_circle:$(".step-circle.circle-1"),step_two_circle:$(".step-circle.circle-2"),step_three_circle:$(".step-circle.circle-3"),step_one_button:$(".js-btn-step-1"),step_two_button:$(".js-btn-step-2"),step_three_button:$(".js-btn-step-3"),step_one_zip:$(".js-zip-step-1"),step_two_zip:$("#zip"),step_two_street:$("#street"),step_two_city:$("#city"),step_two_state:$("#state"),step_two_unit_type:$("#unit_type"),step_two_unit:$("#unit"),step_three_serviceable:$(".step-3__is-servicable"),step_three_not_serviceable:$(".step-3__is-not-servicable"),step_address_check_form:$(".js-address-check-form"),step_loader:$(".loader")};return{init:function(){t.step_progression()},step_progression:function(){e.step_one_button.on("click",function(t){t.preventDefault(),e.step_one_bar_mask.addClass("complete"),e.step_one_circle.addClass("complete").removeClass("active"),e.step_one.fadeOut(500),setTimeout(function(){e.step_one_bar_mask.removeClass("active"),e.step_one.addClass("is-hidden"),e.step_two.fadeIn(500).removeClass("is-hidden")},650),setTimeout(function(){e.step_two_circle.addClass("active")},700),setTimeout(function(){e.step_two_bar_mask.addClass("active")},700)}),e.step_two_button.on("click",function(t){t.preventDefault(),e.step_one_zip.val().length<5?e.step_one_zip.addClass("error"):(e.step_one_zip.removeClass("error"),e.step_two_bar_mask.addClass("complete"),e.step_two_circle.addClass("complete").removeClass("active"),e.step_two.fadeOut(500),setTimeout(function(){e.step_two_bar_mask.removeClass("active"),e.step_two.addClass("is-hidden"),e.step_three.fadeIn(500).removeClass("is-hidden"),e.step_two_zip.focus(),e.step_two_street.focus()},650),setTimeout(function(){e.step_three_circle.addClass("active")},700),setTimeout(function(){e.step_three_bar_mask.addClass("active")},700))}),e.step_three_button.on("click",function(t){e.step_three_button.addClass("is-hidden"),e.step_loader.removeClass("is-hidden");var s=!0;e.step_two_zip.val().length<1||e.step_two_city.val().length<1||e.step_two_state.val().length<1||e.step_two_street.val().length<1||e.step_two_unit_type.val().length<1?(e.step_three_button.removeClass("is-hidden"),e.step_loader.addClass("is-hidden"),s=!1):"APT"===e.step_two_unit_type.val()&&""===e.step_two_unit.val()&&(e.step_three_button.removeClass("is-hidden"),e.step_loader.addClass("is-hidden"),s=!1),e.step_two_zip.val().length<1?e.step_two_zip.addClass("error"):e.step_two_zip.removeClass("error"),e.step_two_city.val().length<1?e.step_two_city.addClass("error"):e.step_two_city.removeClass("error"),e.step_two_state.val().length<1?e.step_two_state.addClass("error"):e.step_two_state.removeClass("error"),e.step_two_street.val().length<1?e.step_two_street.addClass("error"):e.step_two_street.removeClass("error"),e.step_two_unit_type.val().length<1?e.step_two_unit_type.addClass("error"):e.step_two_unit_type.removeClass("error"),"APT"===e.step_two_unit_type.val()&&""===e.step_two_unit.val()?e.step_two_unit.addClass("error"):e.step_two_unit.removeClass("error"),addressObj={street:e.step_two_street.val(),city:e.step_two_city.val(),state:e.step_two_state.val(),zip:e.step_two_zip.val(),unitType:e.step_two_unit_type.val(),unitVal:e.step_two_unit.val()},s===!0&&($.cookie.json=!0,$.cookie("address",addressObj),"NONE"===e.step_two_unit_type.val()?hQ.storeLast("house|step 2|two_step address check",{}):"APT"===e.step_two_unit_type.val()&&hQ.storeLast("apt|step 2|two_step address check",{}),$(".js-address-check-form").submit())})}}}();"undefined"!=typeof $.cookie("address")&&($.ajax({url:"/ajax_rope_check.php",type:"POST",dataType:"JSON",data:JSON.parse($.cookie("address"))}),$.removeCookie("address"));var s=$("#zip");$(".js-zip-step-1").keyup(function(){s.val(this.value)}),$(".js-zip-step-1").keypress(function(e){13==e.keyCode&&$(".js-btn-step-2").click()}),$(".js-address-check-form").keypress(function(e){13==e.keyCode&&$(".js-btn-step-3").click()});var o=function(){var e={unit_type:$(".unit-type"),unit:$(".unit")};return{init:function(){o.unit_type_selection()},unit_type_selection:function(){e.unit_type.on("change",function(){"APT"===e.unit_type.val()?(e.unit.addClass("is-visible"),setTimeout(function(){e.unit.css({opacity:1})},100)):(e.unit.css({opacity:0}),setTimeout(function(){e.unit.removeClass("is-visible")},100))})},submit_spinner:function(){$(".js-address-check-form").submit(function(){var e=new Spinner({left:"83%",top:"60%"}).spin();$(".js-availability-submit").addClass("is-submitted"),setTimeout(function(){document.querySelector(".spin-wrapper").appendChild(e.el)},500)})}}}();e.init(),t.init(),o.init()});